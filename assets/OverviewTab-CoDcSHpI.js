import{u as D,r as R,j as e}from"./index-BOaqYkpz.js";const C=s=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(s),A=()=>{var d,a,o,x,h,m,j,p,u,g,b,N,f;const{property:s}=D(),[c,v]=R.useState(!1);return s?e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Basic Info"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.propertyName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",s.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",s.propertyType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Rate:"})," ",((d=s.serviceRate)==null?void 0:d.model)==="Fixed"?C(s.serviceRate.value):`${(a=s.serviceRate)==null?void 0:a.value}%`]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Landlord Info"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",(o=s.landlord)==null?void 0:o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",(x=s.landlord)==null?void 0:x.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",(h=s.landlord)==null?void 0:h.phone]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Payment Details"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Bank:"})," ",(m=s.paymentDetails)==null?void 0:m.bank]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Name:"})," ",(j=s.paymentDetails)==null?void 0:j.accountName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",(p=s.paymentDetails)==null?void 0:p.accountNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deadline:"})," ",(u=s.paymentDetails)==null?void 0:u.deadline]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Utilities"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Water:"})," ",(g=s.utilities)==null?void 0:g.water]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Water Rate:"})," ",(b=s.utilities)==null?void 0:b.waterRate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Garbage:"})," ",(N=s.utilities)==null?void 0:N.garbage]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Units Summary"}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("button",{onClick:()=>v(n=>!n),className:"text-sm text-blue-600 underline hover:text-blue-800",children:c?"Hide advanced info":"Show advanced info"})}),((f=s.units)==null?void 0:f.length)>0?e.jsxs(e.Fragment,{children:[s.units.map((n,i)=>{const t=n.unitIds||[],y=t.filter(l=>{var r;return((r=l.status)==null?void 0:r.toLowerCase())==="vacant"}).length,w=t.filter(l=>{var r;return((r=l.status)==null?void 0:r.toLowerCase())==="occupied"}).length;return e.jsxs("div",{className:"border p-4 rounded mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",n.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rent:"})," ",n.rent]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deposit:"})," ",n.deposit]}),e.jsxs("p",{children:[e.jsxs("span",{className:"text-red-700 font-semibold",children:[y," Vacant"]})," /"," ",e.jsxs("span",{className:"text-blue-700 font-semibold",children:[w," Occupied"]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Declared Count:"})," ",n.count]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Units:"})," ",t.length]}),n.count!==t.length&&e.jsxs("p",{className:"text-red-500 text-sm mt-1",children:["⚠️ Mismatch: ",t.length," units registered, but ",n.count," declared."]})]})]},i)}),e.jsx("div",{className:"mt-2 font-medium",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Total Units:"})," ",s.units.reduce((n,i)=>{var t;return n+(((t=i.unitIds)==null?void 0:t.length)||0)},0)]})})]}):e.jsx("p",{className:"text-gray-500",children:"No units added yet."})]})]}):e.jsx("p",{className:"text-red-500 p-4",children:"Property data not available."})};export{A as default};
